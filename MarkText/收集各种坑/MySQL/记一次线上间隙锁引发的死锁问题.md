# 记一次线上间隙锁引发的死锁问题

## 参考资料

1. [记一次线上间隙锁引发的死锁问题 - 掘金](https://juejin.cn/post/7278238875448475706)
2. [收集一些常见的 MySQL 死锁案例](https://github.com/aneasystone/mysql-deadlocks)

## 形成死锁的四个必要条件，打破其中一个死锁将被消灭

1. 互斥： 某种资源一次只允许一个进程访问，即该资源一旦分配给某个进程，其他进程就不能再访问，直到该进程访问结束。
2. 占有且等待： 一个进程本身占有资源（一种或多种），同时还有资源未得到满足，正在等待其他进程释放该资源。
3. 不可抢占： 别人已经占有了某项资源，你不能因为自己也需要该资源，就去把别人的资源抢过来。
4. 循环等待： 存在一个进程链，使得每个进程都占有下一个进程所需的至少一种资源。