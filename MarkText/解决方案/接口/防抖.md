# 防抖

## 参考博文

1. [项目提交按钮没防抖，差点影响了验收 - 掘金](https://juejin.cn/post/7249288087820861499)

## 原因

1. 接口卡慢，导致用户在短时间内重复点击

2. 网络不好，恢复网络后进行了重复提交

## 解决

1. 前端
   
   1. 在按钮里做好防抖，用户请求完之后进行置灰或`loading`状态，不可再次触发请求，直到接口响应完才解开限制
   
   2. 限制在n秒内不可重复触发

2. 后端
   
   1. 后端做幂等判断，不可重复操作
   
   2. 后端加一个n秒内不可重复操作限制

## 总结

这个场景和幂等场景比较类似，算是幂等的一种特殊场景，此场景主要由前端出发进行优化即可。当然后端无论何时都需要做好幂等判断，前端的任何操作都只能防君子不能防小人，作为后端开发者需要对前端提交的请求和数据多加思考，谨慎处理。
